{"version":3,"file":"angular-hitmands-auth.js","sources":["../src/auth-module.js","../src/auth-helpers.js","../src/auth-provider.js","../src/auth-directives.js"],"names":["AuthModuleRun","$rootScope","AuthService","$state","$location","$timeout","redirect","path","$on","event","toState","toParams","fromState","fromParams","authorize","getCurrentUser","_isUserLoggedIn","isUserLoggedIn","preventDefault","$broadcast","statusCode","statusText","publisher","name","EVENTS","update","current","_validAuthData","userData","token","res","angular","isArray","isObject","isString","length","_authorizeLevelBased","stateAuthLevel","userAuthLevel","isNumber","_authorizeRoleBased","haystack","needle","i","len","j","jLen","equals","AuthProviderFactory","$httpProvider","_dataParser","self","this","isBasicAuthEnabled","useRoutes","AuthServiceRoutesListSetter","newRoutes","routes","extend","tokenizeHttp","AuthServiceTokenizeHttp","tokenKey","responseInterceptor","interceptors","push","AuthServiceInterceptor","request","AuthServiceRequestTransform","config","currentUser","AuthCurrentUser","headers","authToken","error","responseError","useBasicAuthentication","AuthServiceUseHttpHeaderAuthorization","setLoggedUser","AuthServiceLoggedUserSetter","authenticationToken","authLevel","parseHttpAuthData","AuthServiceExpectDataAs","callback","isFunction","$get","$http","$exceptionHandler","$q","_setLoggedUser","newUserData","newAuthToken","newAuthLevel","$$phase","$digest","login","credentials","configs","cache","Authorization","window","btoa","username","password","post","then","result","data","status","user","success","reject","fetchLoggedUser","get","fetch","logout","setCurrentUser","unsetCurrentUser","state","AUTHPROPERTY","e","check","getAuthenticationToken","AuthLoginDirectiveFactory","restrict","link","iScope","iElement","iAttributes","resolve","$eval","noop","_form","attr","bind","attrName","attrValue","hasOwnProperty","$invalid","form.$invalid","$form.$pristine","$pristine","unbind","AuthLogoutDirectiveFactory","scope","element","attrs","AuthClassesDirectiveFactory","classes","loggedIn","notLoggedIn","last","_toggleClass","newClasses","join","$updateClass","k","authProperty","Object","defineProperty","enumerable","value","call","module","provider","directive","run"],"mappings":"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"}
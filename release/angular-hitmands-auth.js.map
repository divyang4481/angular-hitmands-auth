{"version":3,"file":"angular-hitmands-auth.js","sources":["../src/auth-module.js","../src/auth-helpers.js","../src/auth-provider.js","../src/auth-directives.js"],"names":["AuthModuleRun","$rootScope","AuthService","$state","$location","$timeout","redirect","path","$on","event","toState","toParams","fromState","fromParams","authorize","getCurrentUser","_isUserLoggedIn","isUserLoggedIn","preventDefault","$broadcast","statusCode","statusText","publisher","name","EVENTS","update","current","_validAuthData","userData","token","res","angular","isArray","isObject","isString","length","_authorizeLevelBased","stateAuthLevel","userAuthLevel","isNumber","_authorizeRoleBased","haystack","needle","i","len","j","jLen","equals","_sanitizeParsedData","parsedData","$exceptionHandler","valid","user","error","authLevel","AuthProviderFactory","$httpProvider","_dataParser","self","this","isBasicAuthEnabled","useRoutes","AuthServiceRoutesListSetter","newRoutes","routes","extend","tokenizeHttp","AuthServiceTokenizeHttp","tokenKey","responseInterceptor","interceptors","push","AuthServiceInterceptor","request","AuthServiceRequestTransform","config","currentUser","AuthCurrentUser","headers","authToken","responseError","useBasicAuthentication","AuthServiceUseHttpHeaderAuthorization","setLoggedUser","AuthServiceLoggedUserSetter","authenticationToken","parseHttpAuthData","AuthServiceExpectDataAs","callback","isFunction","$get","$http","$q","_setLoggedUser","newUserData","newAuthToken","newAuthLevel","$$phase","$digest","login","credentials","configs","cache","Authorization","window","btoa","username","password","post","then","result","data","status","success","reject","fetchLoggedUser","get","fetch","logout","setCurrentUser","unsetCurrentUser","state","AUTHPROPERTY","e","hasOwnProperty","check","getAuthenticationToken","AuthLoginDirectiveFactory","restrict","link","iScope","iElement","iAttributes","resolve","$eval","noop","_form","attr","bind","attrName","attrValue","$invalid","form.$invalid","$form.$pristine","$pristine","unbind","AuthLogoutDirectiveFactory","scope","element","attrs","AuthClassesDirectiveFactory","classes","loggedIn","notLoggedIn","last","_toggleClass","newClasses","join","$updateClass","k","authProperty","Object","defineProperty","enumerable","value","call","module","provider","directive","run"],"mappings":"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"}
{"version":3,"file":"angular-hitmands-auth.js","sources":["../src/auth-module.js","../src/auth-helpers.js","../src/auth-provider.js","../src/auth-directives.js"],"names":["AuthModuleRun","$rootScope","AuthService","$state","$location","$timeout","redirect","path","$on","event","toState","toParams","fromState","fromParams","authorize","getCurrentUser","_isUserLoggedIn","isUserLoggedIn","preventDefault","$broadcast","statusCode","statusText","publisher","name","EVENTS","update","current","_validAuthData","userData","token","res","angular","isArray","isObject","isString","length","_authorizeLevelBased","stateAuthLevel","userAuthLevel","isNumber","_authorizeRoleBased","haystack","needle","i","len","j","jLen","equals","_sanitizeParsedData","parsedData","$exceptionHandler","valid","user","error","authLevel","AuthProviderFactory","$httpProvider","_dataParser","self","this","isBasicAuthEnabled","useRoutes","AuthServiceRoutesListSetter","newRoutes","routes","extend","tokenizeHttp","AuthServiceTokenizeHttp","tokenKey","responseInterceptor","isFunction","interceptors","push","AuthServiceInterceptor","request","AuthServiceRequestTransform","config","currentUser","AuthCurrentUser","hasOwnProperty","headers","authToken","responseError","useBasicAuthentication","AuthServiceUseHttpHeaderAuthorization","setLoggedUser","AuthServiceLoggedUserSetter","authenticationToken","parseHttpAuthData","AuthServiceExpectDataAs","callback","$get","$http","$q","_setLoggedUser","newUserData","newAuthToken","newAuthLevel","$$phase","$digest","login","credentials","configs","cache","Authorization","window","btoa","username","password","post","then","result","data","status","success","reject","fetchLoggedUser","get","fetch","logout","setCurrentUser","unsetCurrentUser","state","propertyToCheck","getAuthProperty","e","checkRoles","getAuthenticationToken","AuthLoginDirectiveFactory","restrict","link","iScope","iElement","iAttributes","resolve","$eval","noop","_form","attr","bind","attrName","attrValue","$invalid","form.$invalid","$form.$pristine","$pristine","unbind","AuthLogoutDirectiveFactory","scope","element","attrs","AuthClassesDirectiveFactory","classes","loggedIn","notLoggedIn","last","_toggleClass","newClasses","join","$updateClass","k","authProperty","Object","defineProperty","enumerable","value","call","module","provider","directive","run"],"mappings":"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"}
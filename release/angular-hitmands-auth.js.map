{"version":3,"file":"angular-hitmands-auth.js","sources":["../src/auth-module.js","../src/auth-helpers.js","../src/auth-provider.js","../src/auth-directives.js"],"names":["AuthModuleRun","$rootScope","AuthService","$state","$location","$timeout","redirect","path","$on","event","toState","toParams","fromState","fromParams","authorize","getCurrentUser","_isUserLoggedIn","isUserLoggedIn","preventDefault","$broadcast","statusCode","statusText","publisher","name","EVENTS","update","current","_authorizeLevelBased","stateAuthLevel","userAuthLevel","angular","isNumber","_authorizeRoleBased","haystack","needle","isArray","i","len","length","j","jLen","equals","_sanitizeParsedData","parsedData","$exceptionHandler","isObject","user","isString","token","authLevel","AuthProviderFactory","$httpProvider","_dataParser","self","this","isBasicAuthEnabled","useRoutes","AuthServiceRoutesListSetter","newRoutes","routes","extend","tokenizeHttp","AuthServiceTokenizeHttp","tokenKey","responseInterceptor","isFunction","interceptors","push","AuthServiceInterceptor","request","AuthServiceRequestTransform","config","currentUser","AuthCurrentUser","hasOwnProperty","headers","authToken","response","responseError","useBasicAuthentication","AuthServiceUseHttpHeaderAuthorization","setLoggedUser","AuthServiceLoggedUserSetter","userData","authenticationToken","parseHttpAuthData","AuthServiceExpectDataAs","callback","$get","$http","$q","_setLoggedUser","newUserData","newAuthToken","newAuthLevel","$$phase","$digest","login","credentials","configs","cache","Authorization","window","btoa","username","password","post","then","result","data","status","success","error","reject","fetchLoggedUser","get","fetch","logout","setCurrentUser","unsetCurrentUser","state","propertyToCheck","getAuthProperty","e","checkRoles","getAuthenticationToken","AuthLoginDirectiveFactory","restrict","link","iScope","iElement","iAttributes","resolve","$eval","noop","_form","attr","bind","attrName","attrValue","$invalid","form.$invalid","$form.$pristine","$pristine","unbind","AuthLogoutDirectiveFactory","scope","element","attrs","AuthClassesDirectiveFactory","classes","loggedIn","notLoggedIn","last","_toggleClass","newClasses","join","$updateClass","k","authProperty","Object","defineProperty","enumerable","value","call","module","provider","directive","run"],"mappings":"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"}
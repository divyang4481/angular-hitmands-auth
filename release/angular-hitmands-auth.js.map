{"version":3,"file":"angular-hitmands-auth.js","sources":["../src/auth-module.js","../src/auth-helpers.js","../src/auth-provider.js","../src/auth-directives.js"],"names":["AuthModuleRun","$rootScope","AuthService","$state","$location","$timeout","redirect","path","$on","event","toState","toParams","fromState","fromParams","authorize","getCurrentUser","_isUserLoggedIn","isUserLoggedIn","preventDefault","$broadcast","statusCode","statusText","publisher","name","EVENTS","update","current","_validAuthData","userData","token","res","angular","isArray","isObject","isString","length","_authorizeLevelBased","stateAuthLevel","userAuthLevel","isNumber","_inArray","haystack","needle","i","len","j","jLen","equals","AuthServiceProviderFactory","$httpProvider","_dataParser","self","this","isBasicAuthEnabled","setAuthLevelPropertyName","AuthServiceSetAuthLevelPropertyName","newAuthPropertyName","AUTHPROPERTY","useRoutes","AuthServiceRoutesListSetter","newRoutes","routes","extend","tokenizeHttp","AuthServiceTokenizeHttp","tokenKey","responseInterceptor","isFunction","interceptors","push","AuthServiceInterceptor","request","AuthServiceRequestTransform","config","currentUser","AuthCurrentUser","headers","authToken","error","responseError","useBasicAuthentication","AuthServiceUseHttpHeaderAuthorization","setLoggedUser","AuthServiceLoggedUserSetter","authenticationToken","authLevel","parseHttpAuthData","AuthServiceExpectDataAs","callback","$get","AuthServiceFactory","$http","$exceptionHandler","$q","_setLoggedUser","newUserData","newAuthToken","newAuthLevel","$$phase","$digest","login","credentials","configs","cache","Authorization","window","btoa","username","password","post","then","result","data","status","user","success","reject","fetch","get","logout","setCurrentUser","unsetCurrentUser","state","e","check","getAuthenticationToken","AuthLoginDirectiveFactory","restrict","link","iScope","iElement","iAttributes","_form","resolve","$eval","noop","attr","bind","attrName","attrValue","$invalid","$error","unbind","AuthLogoutDirectiveFactory","scope","element","attrs","AuthClassesDirectiveFactory","classes","loggedIn","notLoggedIn","last","_toggleClass","newClasses","join","$updateClass","k","hasOwnProperty","Object","defineProperty","enumerable","value","call","module","provider","directive","run"],"mappings":"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"}
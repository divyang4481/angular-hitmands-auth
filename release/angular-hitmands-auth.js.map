{"version":3,"file":"angular-hitmands-auth.js","sources":["../src/auth-module.js","../src/auth-helpers.js","../src/auth-provider.js","../src/auth-directives.js"],"names":["AuthModuleRun","$rootScope","AuthService","$state","$location","$timeout","redirect","path","routes","__redirectPath__","AUTO_ROUTING_PROTECTION","$on","event","toState","toParams","fromState","fromParams","authorize","getCurrentUser","preventDefault","_isUserLoggedIn","isUserLoggedIn","$broadcast","statusCode","statusText","publisher","name","EVENTS","update","current","_validAuthData","userData","token","res","angular","isArray","isObject","isString","length","_authorizeLevelBased","stateAuthLevel","userAuthLevel","isNumber","_inArray","haystack","needle","i","len","j","jLen","equals","AuthServiceProviderFactory","$httpProvider","_dataParser","self","this","isBasicAuthEnabled","disableAutoRoutingProtection","AuthServiceDisableAutoRoutingProtection","setRedirectPath","AuthServiceSetRedirectPath","useRoutes","AuthServiceRoutesListSetter","newRoutes","extend","tokenizeHttp","AuthServiceTokenizeHttp","tokenKey","responseErrorInterceptor","isFunction","interceptors","push","AuthServiceInterceptor","request","AuthServiceRequestTransform","config","currentUser","AuthCurrentUser","headers","authToken","error","responseError","useBasicAuthentication","AuthServiceUseHttpHeaderAuthorization","setLoggedUser","AuthServiceLoggedUserSetter","authenticationToken","authLevel","parseHttpAuthData","AuthServiceExpectDataAs","callback","$get","AuthServiceFactory","$http","$exceptionHandler","$q","$injector","_setLoggedUser","newUserData","newAuthToken","newAuthLevel","$$phase","$digest","login","credentials","configs","cache","Authorization","window","btoa","username","password","post","then","result","data","status","user","success","reject","fetch","get","logout","setCurrentUser","unsetCurrentUser","state","AUTH_PROPERTY","invoke","e","check","getAuthenticationToken","AuthLoginDirectiveFactory","restrict","link","iScope","iElement","iAttributes","_form","resolve","$eval","noop","attr","bind","attrName","attrValue","$invalid","$error","unbind","AuthLogoutDirectiveFactory","scope","element","attrs","AuthClassesDirectiveFactory","classes","loggedIn","notLoggedIn","last","_toggleClass","newClasses","join","$updateClass","k","hasOwnProperty","Object","defineProperty","enumerable","value","call","module","provider","directive","run"],"mappings":"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"}